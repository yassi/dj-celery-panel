{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Django Celery Panel","text":"<p>DJ Celery Panel brings Celery monitoring directly into Django Admin. No separate services to deploy, no extra infrastructure to maintain \u2014 just add it to INSTALLED_APPS and you're done.</p>"},{"location":"#overview","title":"Overview","text":"<p>Django Celery Panel is a Django admin extension that provides a web interface for monitoring and inspecting your Celery tasks and workers.</p> <p></p>"},{"location":"#features","title":"Features","text":"<ul> <li>Workers Monitoring: View active Celery workers, their status, pool type, and concurrency settings</li> <li>Task Management: Browse task history and inspect detailed task information</li> <li>Queue Overview: Monitor configured queues and their routing configuration</li> <li>Periodic Tasks: View scheduled periodic tasks and their schedules</li> <li>Real-time Data: Live information from Celery's inspect API</li> <li>Django Admin Integration: Seamlessly integrated into your existing Django admin interface</li> <li>Swappable Backends: Pluggable architecture allows custom data sources and implementations</li> </ul> <p>Status: This project is currently in active development.</p>"},{"location":"#why-django-celery-panel","title":"Why Django Celery Panel?","text":"<p>Simple Integration: No separate services to run, no complex setup. Just add to <code>INSTALLED_APPS</code> and you're monitoring Celery through Django Admin.</p> <p>Flexible Architecture: Built with swappable backends that let you customize how data is retrieved. Start with defaults, swap in custom implementations as you grow.</p> <p>No Lock-in: The pluggable backend system means you can switch data sources, add custom logic, or integrate with existing monitoring tools without touching the UI.</p>"},{"location":"#features-in-detail","title":"Features in Detail","text":""},{"location":"#dashboard-overview","title":"Dashboard Overview","text":"<p>Get a comprehensive overview of your entire Celery infrastructure at a glance.</p> <p></p> <p>The dashboard provides: - Summary of active workers - Recent task activity - Queue status - Quick access to all monitoring features</p>"},{"location":"#workers-monitoring","title":"Workers Monitoring","text":"<p>Monitor all active Celery workers in your infrastructure with detailed information.</p> <p></p> <p>Worker monitoring includes: - Worker name and hostname - Online/offline status - Pool type (prefork, gevent, solo, etc.) - Concurrency settings - Active tasks count - Detailed worker statistics</p>"},{"location":"#task-management","title":"Task Management","text":"<p>Browse and inspect your Celery task history with complete details.</p> <p></p> <p>Task management features: - Task name and ID - Current status (pending, started, success, failure, retry) - Task arguments and keyword arguments - Task results or error messages - Execution time and duration - Worker that processed the task - Traceback for failed tasks</p>"},{"location":"#configuration-view","title":"Configuration View","text":"<p>View your current Celery configuration and runtime settings.</p> <p></p> <p>Configuration display includes: - Broker URL and settings - Result backend configuration - Task execution settings - Timezone and scheduling options - Worker pool settings - And more...</p>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Features - Detailed features with screenshots</li> <li>Installation</li> <li>Configuration</li> <li>Development</li> </ul>"},{"location":"#requirements","title":"Requirements","text":"<ul> <li>Python 3.9+</li> <li>Django 4.2+</li> <li>Celery 5.0+</li> <li>django-celery-results (for task history)</li> <li>A running Celery broker (Redis, RabbitMQ, etc.)</li> <li>At least one running Celery worker (for monitoring features)</li> </ul>"},{"location":"#license","title":"License","text":"<p>MIT License - See LICENSE file for details.</p>"},{"location":"configuration/","title":"Configuration","text":"<p>Django Celery Panel currently works out of the box with minimal configuration.</p>"},{"location":"configuration/#basic-setup","title":"Basic Setup","text":"<p>The only required configuration is adding the app to your <code>INSTALLED_APPS</code> and including the URLs in your URL configuration.</p> <p>See the Installation guide for setup instructions.</p>"},{"location":"configuration/#celery-configuration","title":"Celery Configuration","text":"<p>Django Celery Panel requires a properly configured Celery instance:</p> <pre><code># settings.py\nCELERY_BROKER_URL = 'redis://localhost:6379/0'\nCELERY_RESULT_BACKEND = 'django-db'  # Recommended for task history\nCELERY_TASK_TRACK_STARTED = True     # Track when tasks start\nCELERY_RESULT_EXTENDED = True        # Store extended task metadata\n</code></pre>"},{"location":"configuration/#urls-configuration","title":"URLs Configuration","text":"<pre><code># urls.py\nurlpatterns = [\npath('admin/dj-celery-panel/', include('dj_celery_panel.urls')),  # Custom path\npath('admin/', admin.site.urls),\n]\n</code></pre>"},{"location":"configuration/#security","title":"Security","text":"<p>Django Celery Panel uses Django's built-in admin authentication:</p> <ul> <li>Only staff users (<code>is_staff=True</code>) can access the panel</li> <li>All views require authentication via <code>@staff_member_required</code></li> <li>No additional security configuration needed</li> </ul>"},{"location":"configuration/#advanced-configuration","title":"Advanced Configuration","text":""},{"location":"configuration/#swappable-backend-architecture","title":"Swappable Backend Architecture","text":"<p>Django Celery Panel uses a pluggable backend system that allows you to customize how data is retrieved for each feature area. This makes the panel flexible and adaptable to different infrastructures.</p> <pre><code># settings.py\nDJ_CELERY_PANEL_SETTINGS = {\n# Backend class for tasks interface\n\"tasks_backend\": \"dj_celery_panel.celery_utils.CeleryTasksDjangoCeleryResultsBackend\",\n# Backend class for workers interface\n\"workers_backend\": \"dj_celery_panel.celery_utils.CeleryWorkersInspectBackend\",\n# Backend class for queues interface\n\"queues_backend\": \"dj_celery_panel.celery_utils.CeleryQueuesInspectBackend\",\n# Backend class for periodic tasks interface\n\"periodic_tasks_backend\": \"dj_celery_panel.celery_utils.CeleryPeriodicTasksConfigBackend\",\n}\n</code></pre>"},{"location":"configuration/#built-in-backend-classes","title":"Built-in Backend Classes","text":""},{"location":"configuration/#tasks-backends","title":"Tasks Backends","text":"<p><code>CeleryTasksDjangoCeleryResultsBackend</code> (Default, Recommended)</p> <p>Uses <code>django-celery-results</code> to provide comprehensive task history stored in your Django database.</p> <p>Features: - Full task history with pagination - Search by task name or task ID - Filter by task status - Task results and exception information - Complete task metadata (args, kwargs, timestamps) - Works with any Celery broker</p> <p>Available Filters: - All - Show all tasks - Pending - Tasks waiting to be executed - Started - Currently executing tasks - Success - Successfully completed tasks - Failure - Failed tasks - Retry - Tasks being retried - Revoked - Cancelled tasks</p> <p>Requirements: - <code>django-celery-results</code> installed - <code>CELERY_RESULT_BACKEND = 'django-db'</code> configured</p> <p><code>CeleryTasksInspectBackend</code></p> <p>Uses Celery's inspect API to provide real-time information about currently executing tasks.</p> <p>Features: - Real-time monitoring of active (currently executing) tasks - Search by task name or task ID - No database storage required - Single fanout request to workers (optimized for performance)</p> <p>Requirements: - At least one running Celery worker - Workers must be reachable via the broker</p> <p>Configuration Example: <pre><code>DJ_CELERY_PANEL_SETTINGS = {\n\"tasks_backend\": \"dj_celery_panel.celery_utils.CeleryTasksInspectBackend\",\n}\n</code></pre></p> <p>Note: This backend shows only live active tasks. For complete task history including finished tasks, use <code>CeleryTasksDjangoCeleryResultsBackend</code>.</p>"},{"location":"configuration/#workers-backends","title":"Workers Backends","text":"<p><code>CeleryWorkersInspectBackend</code> (Default, Recommended)</p> <p>Uses Celery's inspect API to fetch real-time worker information directly from running workers.</p> <p>Features: - Real-time worker status - Active, reserved, and scheduled tasks - Worker statistics and resource usage - Registered tasks per worker - Active queues per worker</p> <p>Requirements: - At least one running Celery worker - Workers must be reachable via the broker</p>"},{"location":"configuration/#queues-backends","title":"Queues Backends","text":"<p><code>CeleryQueuesInspectBackend</code> (Default, Recommended)</p> <p>Uses Celery's inspect API to fetch queue information from running workers.</p> <p>Features: - List of active queues - Exchange and routing information - Queue bindings and configuration</p> <p>Requirements: - At least one running Celery worker - Workers consuming from the queues</p>"},{"location":"configuration/#periodic-tasks-backends","title":"Periodic Tasks Backends","text":"<p><code>CeleryPeriodicTasksConfigBackend</code> (Default)</p> <p>Reads periodic tasks from the <code>CELERY_BEAT_SCHEDULE</code> configuration setting.</p> <p>Features: - Display scheduled tasks from beat configuration - Show task schedules (crontab, interval, etc.) - Display task arguments and keyword arguments - No additional dependencies required</p> <p>Requirements: - <code>CELERY_BEAT_SCHEDULE</code> defined in settings</p> <p>Configuration Example: <pre><code># settings.py\nfrom celery.schedules import crontab\nCELERY_BEAT_SCHEDULE = {\n'send-daily-report': {\n'task': 'app.tasks.send_daily_report',\n'schedule': crontab(hour=0, minute=0),\n},\n'cleanup-old-data': {\n'task': 'app.tasks.cleanup_old_data',\n'schedule': crontab(hour=3, minute=0, day_of_week=1),  # Every Monday at 3am\n},\n}\nDJ_CELERY_PANEL_SETTINGS = {\n\"periodic_tasks_backend\": \"dj_celery_panel.celery_utils.CeleryPeriodicTasksConfigBackend\",\n}\n</code></pre></p> <p><code>CeleryPeriodicTasksDjangoCeleryBeatBackend</code></p> <p>Reads periodic tasks from the django-celery-beat database. This is the solution for issue #8.</p> <p>Features: - Display scheduled tasks from database - Show task schedules (interval, crontab, solar, clocked) - Display task arguments and keyword arguments - Show task execution history (last run, total runs) - Dynamic task management via Django admin</p> <p>Requirements: - <code>django-celery-beat</code> installed and configured - Database tables created via migrations</p> <p>Configuration Example: <pre><code># settings.py\nINSTALLED_APPS = [\n# ...\n'django_celery_beat',\n'dj_celery_panel',\n]\nDJ_CELERY_PANEL_SETTINGS = {\n\"periodic_tasks_backend\": \"dj_celery_panel.celery_utils.CeleryPeriodicTasksDjangoCeleryBeatBackend\",\n}\n</code></pre></p> <p>Note: If you use django-celery-beat, you should configure this backend to see your database-scheduled tasks. Otherwise, the periodic tasks widget will show 0 tasks even if you have tasks configured in the database.</p>"},{"location":"configuration/#backend-information-display","title":"Backend Information Display","text":"<p>Each page (Tasks, Workers, Queues) displays a compact info line at the top showing:</p> <ul> <li>Backend Class Name: The class being used</li> <li>Data Source: Where the backend retrieves its data</li> </ul> <p>This helps you understand how each page is retrieving its data and verify that custom backends are configured correctly.</p>"},{"location":"configuration/#creating-custom-backends","title":"Creating Custom Backends","text":"<p>You can implement custom backends by extending the <code>CeleryAbstractInterface</code> base class. This is useful when:</p> <ul> <li>You have a custom task storage system</li> <li>You want to aggregate data from multiple sources</li> <li>You need to integrate with external monitoring tools</li> <li>You have specific performance requirements</li> </ul>"},{"location":"configuration/#example-custom-tasks-backend","title":"Example: Custom Tasks Backend","text":"<pre><code># myapp/celery_backends.py\nfrom dj_celery_panel.celery_utils import TaskListPage, TaskDetailPage\nclass CustomTasksBackend:\n\"\"\"\n    Custom backend that fetches tasks from an external API or custom database.\n    \"\"\"\n# Backend metadata displayed in the UI\nBACKEND_DESCRIPTION = \"Aggregated task data with custom filtering\"\nDATA_SOURCE = \"External Monitoring API\"\n# Define default filter behavior\nDEFAULT_FILTER = None  # or a specific default like \"running\"\n# Define available filters for the UI\nAVAILABLE_FILTERS = [\n{\"value\": None, \"label\": \"All\"},\n{\"value\": \"running\", \"label\": \"Running\"},\n{\"value\": \"completed\", \"label\": \"Completed\"},\n{\"value\": \"failed\", \"label\": \"Failed\"},\n]\ndef __init__(self, app):\nself.app = app\ndef get_tasks(self, search_query=None, page=1, per_page=50, filter_type=None):\n\"\"\"\n        Fetch task list from your custom source.\n        Args:\n            search_query: Optional search string\n            page: Page number\n            per_page: Items per page\n            filter_type: Filter value (or None for default)\n        Returns:\n            TaskListPage: Object containing tasks and pagination info\n        \"\"\"\n# Your custom implementation\n# Example: Fetch from external monitoring service\ntasks = self.fetch_from_custom_source(search_query, page, per_page, filter_type)\nreturn TaskListPage(\ntasks=tasks,\ntotal_count=len(tasks),\npage=page,\nper_page=per_page,\n)\ndef get_task_detail(self, task_id):\n\"\"\"\n        Fetch detailed information about a specific task.\n        Returns:\n            TaskDetailPage: Object containing task details\n        \"\"\"\ntask = self.fetch_task_detail(task_id)\nreturn TaskDetailPage(\ntask=task,\nerror=None if task else \"Task not found\"\n)\ndef fetch_from_custom_source(self, search_query, page, per_page, filter_type):\n# Your custom implementation\npass\n</code></pre>"},{"location":"configuration/#registering-custom-backend","title":"Registering Custom Backend","text":"<pre><code># settings.py\nDJ_CELERY_PANEL_SETTINGS = {\n\"tasks_backend\": \"myapp.celery_backends.CustomTasksBackend\",\n# Keep default backends for workers and queues\n\"workers_backend\": \"dj_celery_panel.celery_utils.CeleryWorkersInspectBackend\",\n\"queues_backend\": \"dj_celery_panel.celery_utils.CeleryQueuesInspectBackend\",\n}\n</code></pre>"},{"location":"configuration/#backend-interface","title":"Backend Interface","text":"<p>All backends must implement specific methods and can optionally define attributes for filtering behavior:</p>"},{"location":"configuration/#tasks-backend-interface","title":"Tasks Backend Interface","text":"<pre><code>class TasksBackend:\n# Optional: Backend metadata\nBACKEND_DESCRIPTION = \"Description of what this backend does\"\nDATA_SOURCE = \"Where data comes from\"\n# Optional: Filter configuration\nDEFAULT_FILTER = None  # What filter to use when none specified\nAVAILABLE_FILTERS = [  # List of available filters for UI\n{\"value\": None, \"label\": \"All\"},\n{\"value\": \"active\", \"label\": \"Active\"},\n]\ndef __init__(self, app):\n\"\"\"Initialize with Celery app instance.\"\"\"\nself.app = app\ndef get_tasks(self, search_query=None, page=1, per_page=50, filter_type=None):\n\"\"\"Return TaskListPage with tasks and pagination.\"\"\"\npass\ndef get_task_detail(self, task_id):\n\"\"\"Return TaskDetailPage with task details.\"\"\"\npass\n</code></pre> <p>Key Attributes: - <code>DEFAULT_FILTER</code>: Value to use when no filter is specified in the request (optional) - <code>AVAILABLE_FILTERS</code>: List of filter options to show in the UI (optional) - <code>BACKEND_DESCRIPTION</code>: Human-readable description (optional) - <code>DATA_SOURCE</code>: Where the backend retrieves data from (optional)</p>"},{"location":"configuration/#workers-backend-interface","title":"Workers Backend Interface","text":"<pre><code>class WorkersBackend(CeleryAbstractInterface):\ndef get_workers(self):\n\"\"\"Return WorkerListPage with active workers.\"\"\"\npass\ndef get_worker_detail(self, worker_id):\n\"\"\"Return WorkerDetailPage with worker details.\"\"\"\npass\n</code></pre>"},{"location":"configuration/#queues-backend-interface","title":"Queues Backend Interface","text":"<pre><code>class QueuesBackend(CeleryAbstractInterface):\ndef get_queues(self):\n\"\"\"Return QueueListPage with queue information.\"\"\"\npass\ndef get_queue_detail(self, queue_name):\n\"\"\"Return QueueDetailPage with queue details.\"\"\"\npass\n</code></pre>"},{"location":"configuration/#use-cases-for-custom-backends","title":"Use Cases for Custom Backends","text":""},{"location":"configuration/#1-multiple-result-backends","title":"1. Multiple Result Backends","text":"<p>If you store task results in multiple places (database + Redis cache), create a custom backend that checks both:</p> <pre><code>class MultiSourceTasksBackend(CeleryAbstractInterface):\ndef get_task_detail(self, task_id):\n# Try cache first\ntask = self.get_from_redis(task_id)\nif not task:\n# Fallback to database\ntask = self.get_from_database(task_id)\nreturn TaskDetailPage(task=task)\n</code></pre>"},{"location":"configuration/#2-external-monitoring-integration","title":"2. External Monitoring Integration","text":"<p>Integrate with services like Datadog, New Relic, or custom monitoring:</p> <pre><code>class DatadogTasksBackend(CeleryAbstractInterface):\ndef get_tasks(self, search_query=None, page=1, per_page=50):\n# Fetch task metrics from Datadog API\nmetrics = datadog_client.get_celery_metrics()\nreturn TaskListPage(tasks=self.format_metrics(metrics), ...)\n</code></pre>"},{"location":"configuration/#3-performance-optimization","title":"3. Performance Optimization","text":"<p>Implement caching or aggregation for high-traffic environments:</p> <pre><code>class CachedWorkersBackend(CeleryWorkersInspectBackend):\ndef get_workers(self):\ncache_key = \"celery_workers\"\nworkers = cache.get(cache_key)\nif not workers:\nworkers = super().get_workers()\ncache.set(cache_key, workers, timeout=30)  # 30 second cache\nreturn workers\n</code></pre>"},{"location":"configuration/#benefits-of-swappable-backends","title":"Benefits of Swappable Backends","text":"<ol> <li>No Vendor Lock-in: Switch data sources without changing the UI</li> <li>Incremental Migration: Move from one system to another gradually</li> <li>A/B Testing: Test different implementations side by side</li> <li>Custom Business Logic: Add filtering, transformation, or aggregation</li> <li>Integration: Connect with existing monitoring infrastructure</li> <li>Performance Tuning: Optimize data fetching for your specific needs</li> </ol>"},{"location":"configuration/#requirements","title":"Requirements","text":"<p>The default backends require: - Running Celery workers for worker and queue monitoring - django-celery-results installed and configured for task history - Proper Celery broker (Redis, RabbitMQ, etc.) configured and running</p> <p>Custom backends may have different requirements based on their implementation.</p>"},{"location":"development/","title":"Development","text":"<p>Contributing to Django Celery Panel or setting up for local development.</p>"},{"location":"development/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.9+</li> <li>Git</li> <li>Docker (recommended)</li> </ul>"},{"location":"development/#setup","title":"Setup","text":""},{"location":"development/#1-clone-repository","title":"1. Clone Repository","text":"<pre><code>git clone https://github.com/yassi/dj-celery-panel.git\ncd dj-celery-panel\n</code></pre>"},{"location":"development/#2-choose-development-environment","title":"2. Choose Development Environment","text":""},{"location":"development/#option-a-docker-recommended","title":"Option A: Docker (Recommended)","text":"<pre><code>make docker_up       # Start all services\nmake docker_shell    # Open shell in container\n</code></pre>"},{"location":"development/#option-b-local-environment","title":"Option B: Local Environment","text":"<pre><code># Create virtual environment\npython -m venv venv\nsource venv/bin/activate  # Windows: venv\\Scripts\\activate\n# Install package and dependencies\nmake install\n# or\npip install -e .\npip install -r requirements.txt\n</code></pre>"},{"location":"development/#3-set-up-example-project","title":"3. Set Up Example Project","text":"<pre><code>cd example_project\npython manage.py migrate\npython manage.py createsuperuser\n</code></pre>"},{"location":"development/#4-run-development-server","title":"4. Run Development Server","text":"<pre><code>python manage.py runserver\n</code></pre> <p>Visit: <code>http://127.0.0.1:8000/admin/</code></p>"},{"location":"development/#testing","title":"Testing","text":"<p>The test suite requires a running instance of Celery with at least one worker, as well as Redis and PostgreSQL services. The tests verify the monitoring functionality against real Celery workers.</p>"},{"location":"development/#prerequisites-for-tests","title":"Prerequisites for Tests","text":"<ol> <li>Redis - Running on <code>localhost:6379</code></li> <li>PostgreSQL - Running on <code>localhost:5432</code> (or use SQLite locally)</li> <li>Celery Worker - At least one worker connected to the broker</li> </ol>"},{"location":"development/#run-all-tests","title":"Run All Tests","text":""},{"location":"development/#docker-recommended","title":"Docker (Recommended)","text":"<pre><code># Docker automatically starts all required services including workers\nmake test_docker\n</code></pre>"},{"location":"development/#local-environment","title":"Local Environment","text":"<pre><code># Terminal 1: Start Redis (if not already running)\ndocker run -d -p 6379:6379 redis:7\n\n# Terminal 2: Start PostgreSQL (optional, or use SQLite)\ndocker run -d -p 5432:5432 -e POSTGRES_PASSWORD=postgres postgres:16\n\n# Terminal 3: Start Celery worker\ncd example_project\npython manage.py migrate\ncelery -A example_project worker --loglevel=info\n\n# Terminal 4: Run tests\nmake test_local\n</code></pre>"},{"location":"development/#run-specific-tests","title":"Run Specific Tests","text":"<pre><code>pytest tests/test_admin.py -v\npytest tests/test_admin.py::TestAdminIntegration::test_celery_panel_appears_in_admin_index\n</code></pre>"},{"location":"development/#with-coverage","title":"With Coverage","text":"<pre><code>pytest --cov=dj_celery_panel tests/\n</code></pre>"},{"location":"development/#github-actions","title":"GitHub Actions","text":"<p>The CI pipeline automatically: 1. Starts Redis and PostgreSQL services 2. Runs database migrations 3. Starts a Celery worker in detached mode 4. Executes the test suite 5. Uploads coverage reports</p>"},{"location":"development/#project-structure","title":"Project Structure","text":"<pre><code>dj-celery-panel/\n\u251c\u2500\u2500 dj_celery_panel/          # Main package\n\u2502   \u251c\u2500\u2500 views.py              # Django views\n\u2502   \u251c\u2500\u2500 urls.py               # URL patterns\n\u2502   \u251c\u2500\u2500 models.py             # Placeholder model\n\u2502   \u251c\u2500\u2500 admin.py              # Admin integration\n\u2502   \u2514\u2500\u2500 templates/            # HTML templates\n\u251c\u2500\u2500 tests/                    # Test suite\n\u2502   \u251c\u2500\u2500 base.py               # Test base class\n\u2502   \u251c\u2500\u2500 test_admin.py         # Admin integration tests\n\u2502   \u2514\u2500\u2500 conftest.py           # Pytest configuration\n\u251c\u2500\u2500 example_project/          # Example Django project\n\u251c\u2500\u2500 docs/                     # Documentation\n\u2514\u2500\u2500 Makefile                  # Development commands\n</code></pre>"},{"location":"development/#code-style","title":"Code Style","text":"<ul> <li>Follow PEP 8</li> <li>Use type hints where helpful</li> <li>Write docstrings for public methods</li> <li>Keep functions focused and small</li> </ul>"},{"location":"development/#makefile-commands","title":"Makefile Commands","text":"<pre><code>make install        # Install dependencies\nmake test_local     # Run tests locally\nmake test_docker    # Run tests in Docker\nmake docker_up      # Start Docker services\nmake docker_down    # Stop Docker services\nmake docker_shell   # Open shell in container\n</code></pre>"},{"location":"development/#contributing","title":"Contributing","text":"<ol> <li>Fork the repository</li> <li>Create a feature branch</li> <li>Make your changes</li> <li>Add tests</li> <li>Run test suite</li> <li>Submit pull request</li> </ol>"},{"location":"features/","title":"Features","text":"<p>Django Celery Panel provides a comprehensive monitoring and inspection interface for your Celery infrastructure, fully integrated into the Django admin.</p>"},{"location":"features/#overview","title":"Overview","text":"<p>The Overview page provides a comprehensive dashboard of your entire Celery infrastructure at a glance. This is the landing page when you access Django Celery Panel.</p>"},{"location":"features/#what-you-see","title":"What You See:","text":"<ul> <li>Active Workers Summary: Quick count of online workers</li> <li>Recent Task Activity: Summary of recent task executions</li> <li>Queue Status: Overview of configured queues</li> <li>Registered Tasks: List of all available Celery tasks</li> <li>Periodic Tasks: Scheduled tasks from Celery Beat</li> <li>Quick Navigation: Easy access to detailed views</li> </ul> <p>The overview page is designed for fast loading with minimal API calls, giving you instant access to the most important information about your Celery setup.</p>"},{"location":"features/#workers-monitoring","title":"Workers Monitoring","text":"<p>The Workers page provides real-time monitoring of all active Celery workers in your infrastructure.</p>"},{"location":"features/#features_1","title":"Features:","text":"<ul> <li>Worker Status: See which workers are online/offline</li> <li>Worker Name &amp; Hostname: Identify each worker uniquely</li> <li>Pool Type: View the worker pool implementation (prefork, gevent, solo, eventlet)</li> <li>Concurrency: See how many concurrent tasks each worker can handle</li> <li>Active Tasks: View currently executing tasks</li> <li>Detailed Statistics: Click on any worker to see comprehensive details</li> </ul>"},{"location":"features/#worker-detail-view","title":"Worker Detail View:","text":"<p>When you click on a worker, you get detailed information including:</p> <ul> <li>Process ID (PID)</li> <li>Prefetch count</li> <li>Total tasks executed</li> <li>Active, reserved, and scheduled tasks</li> <li>Registered tasks for that worker</li> <li>Active queues the worker is consuming from</li> <li>Worker processes list</li> <li>Resource usage statistics (CPU, memory)</li> <li>Broker connection information</li> </ul> <p>This real-time data comes directly from Celery's inspect API, giving you an accurate view of your workers' current state.</p>"},{"location":"features/#task-management","title":"Task Management","text":"<p>The Tasks page provides comprehensive task history and inspection capabilities.</p>"},{"location":"features/#features_2","title":"Features:","text":"<ul> <li>Task History: Browse all executed tasks with pagination</li> <li>Status Indicators: Visual indicators for success, failure, pending, retry states</li> <li>Search Functionality: Search tasks by name, ID, or other criteria</li> <li>Task Details: View complete information about each task</li> <li>Execution Timeline: See when tasks started and completed</li> <li>Result Inspection: View task results or error messages</li> </ul>"},{"location":"features/#task-information-displayed","title":"Task Information Displayed:","text":"<ul> <li>Task ID: Unique identifier for each task execution</li> <li>Task Name: The function/task that was executed</li> <li>Status: Current state (PENDING, STARTED, SUCCESS, FAILURE, RETRY, REVOKED)</li> <li>Arguments: The args and kwargs passed to the task</li> <li>Result: Return value or exception information</li> <li>Timestamp: When the task was received and completed</li> <li>Duration: How long the task took to execute</li> <li>Worker: Which worker processed the task</li> <li>Queue: Which queue the task was routed to</li> </ul>"},{"location":"features/#task-detail-view","title":"Task Detail View:","text":"<p>Click on any task to see:</p> <ul> <li>Full task arguments and keyword arguments (formatted JSON)</li> <li>Complete result or error message</li> <li>Full exception traceback for failed tasks</li> <li>Task metadata (retries, time limits, etc.)</li> <li>Worker and queue information</li> <li>Execution timestamps</li> </ul> <p>This is powered by <code>django-celery-results</code>, which stores comprehensive task execution history in your Django database.</p>"},{"location":"features/#queue-management","title":"Queue Management","text":"<p>The Queues page displays all configured Celery queues and their routing configuration.</p>"},{"location":"features/#features_3","title":"Features:","text":"<ul> <li>Queue List: All queues defined in your Celery configuration</li> <li>Exchange Information: Exchange name, type, and routing keys</li> <li>Queue Bindings: How queues are bound to exchanges</li> <li>Routing Details: Understand how tasks are routed to queues</li> <li>Active Queues: See which queues are actively consumed by workers</li> </ul>"},{"location":"features/#queue-information","title":"Queue Information:","text":"<ul> <li>Queue Name: Identifier for the queue</li> <li>Exchange: The exchange the queue is bound to</li> <li>Exchange Type: Direct, topic, fanout, or headers</li> <li>Routing Key: The routing key pattern</li> <li>Durability: Whether the queue survives broker restarts</li> <li>Consumer Count: How many workers are consuming from the queue</li> </ul> <p>This information helps you understand your task routing configuration and ensure messages are being delivered correctly.</p>"},{"location":"features/#configuration-view","title":"Configuration View","text":"<p>The Configuration page displays your Celery runtime configuration and Django Celery Panel settings.</p>"},{"location":"features/#whats-displayed","title":"What's Displayed:","text":""},{"location":"features/#celery-configuration","title":"Celery Configuration","text":"<ul> <li>Broker URL: Your message broker connection string (credentials masked)</li> <li>Result Backend: Where task results are stored</li> <li>Task Settings:</li> <li>Task serialization format (JSON, pickle, etc.)</li> <li>Task compression settings</li> <li>Task time limits and soft time limits</li> <li>Task acknowledgment settings</li> <li>Worker Settings:</li> <li>Worker pool type</li> <li>Worker prefetch multiplier</li> <li>Worker concurrency</li> <li>Beat Settings:</li> <li>Scheduler class</li> <li>Beat schedule configuration</li> <li>Timezone settings</li> <li>Queue Configuration:</li> <li>Default queue settings</li> <li>Task routing rules</li> <li>Queue priorities</li> </ul>"},{"location":"features/#django-celery-panel-settings","title":"Django Celery Panel Settings","text":"<ul> <li>Backend Classes: Which backend implementations are being used</li> <li>Tasks backend (e.g., DjangoCeleryResults)</li> <li>Workers backend (e.g., InspectAPI)</li> <li>Queues backend (e.g., InspectAPI)</li> <li>Custom Settings: Any custom configuration options</li> </ul>"},{"location":"features/#why-this-matters","title":"Why This Matters:","text":"<p>The configuration page is invaluable for:</p> <ul> <li>Debugging: Understanding how Celery is configured</li> <li>Documentation: Having a live view of your settings</li> <li>Troubleshooting: Verifying that settings are correct</li> <li>Onboarding: Helping new team members understand the setup</li> </ul> <p>All sensitive information (like passwords in broker URLs) is automatically masked for security.</p>"},{"location":"features/#periodic-tasks","title":"Periodic Tasks","text":"<p>The Periodic Tasks page shows all scheduled tasks configured in Celery Beat.</p>"},{"location":"features/#features_4","title":"Features:","text":"<ul> <li>Schedule Display: See when each task runs (cron, interval, solar)</li> <li>Task Name: The task that gets executed</li> <li>Last Run: When the task last executed (if available)</li> <li>Enabled Status: Whether the task is currently active</li> <li>Schedule Details: Human-readable schedule description</li> </ul>"},{"location":"features/#schedule-types","title":"Schedule Types:","text":"<ul> <li>Interval: Tasks that run every X seconds/minutes/hours/days</li> <li>Crontab: Tasks with cron-style schedules (e.g., \"0 0 * * *\" for daily at midnight)</li> <li>Solar: Tasks based on solar events (sunrise, sunset)</li> </ul> <p>This gives you visibility into your automated background tasks and when they're scheduled to run.</p>"},{"location":"features/#admin-integration","title":"Admin Integration","text":"<p>Django Celery Panel integrates seamlessly into your Django admin interface.</p>"},{"location":"features/#integration-features","title":"Integration Features:","text":"<ul> <li>Admin Section: Appears as a dedicated section in your admin home</li> <li>Consistent Styling: Matches Django admin's look and feel</li> <li>Staff-Only Access: Uses Django's <code>@staff_member_required</code> decorator</li> <li>Permission System: Leverages Django's existing authentication</li> <li>Navigation: Easy navigation between different monitoring views</li> <li>Breadcrumbs: Clear navigation path in the admin interface</li> </ul>"},{"location":"features/#no-database-impact","title":"No Database Impact:","text":"<p>Unlike many Django admin apps, Django Celery Panel:</p> <ul> <li>No Models: Doesn't define any Django models</li> <li>No Migrations: No database migrations to run</li> <li>Read-Only: Only reads data, doesn't modify Celery state</li> <li>Lightweight: Minimal impact on your application</li> </ul>"},{"location":"features/#swappable-backend-architecture","title":"Swappable Backend Architecture","text":"<p>Django Celery Panel is built with a pluggable backend system that gives you complete flexibility over how data is retrieved and displayed.</p>"},{"location":"features/#why-this-matters_1","title":"Why This Matters","text":"<p>Unlike monolithic monitoring tools, Django Celery Panel doesn't lock you into a specific implementation. Each feature area (tasks, workers, queues) uses a configurable backend class that you can swap out or customize.</p>"},{"location":"features/#default-backends","title":"Default Backends","text":"<p>Out of the box, Django Celery Panel uses:</p> <ul> <li>Tasks: <code>CeleryTasksDjangoCeleryResultsBackend</code> - Fetches task history from django-celery-results database</li> <li>Workers: <code>CeleryWorkersInspectBackend</code> - Gets real-time worker data via Celery's inspect API</li> <li>Queues: <code>CeleryQueuesInspectBackend</code> - Retrieves queue information via Celery's inspect API</li> </ul>"},{"location":"features/#custom-implementations","title":"Custom Implementations","text":"<p>Need something different? Implement your own backend:</p> <pre><code>class CustomTasksBackend:\n# Backend metadata - displayed in the UI\nBACKEND_DESCRIPTION = \"Data from custom monitoring\"\nDATA_SOURCE = \"Custom API\"\ndef get_tasks(self, search_query=None, page=1, per_page=50):\n# Fetch from Redis, external API, custom database, etc.\nreturn TaskListPage(...)\n</code></pre> <p>Then register it in settings:</p> <pre><code>DJ_CELERY_PANEL_SETTINGS = {\n\"tasks_backend\": \"myapp.backends.CustomTasksBackend\",\n}\n</code></pre>"},{"location":"features/#backend-information-display","title":"Backend Information Display","text":"<p>Each page shows a compact info line at the top displaying which backend is active and where it gets its data from. This helps you understand how data is being retrieved and verify that custom backends are working correctly.</p>"},{"location":"features/#use-cases","title":"Use Cases","text":"<p>This architecture enables:</p> <ul> <li>Multi-source aggregation: Combine data from multiple task result backends</li> <li>External monitoring integration: Connect to Datadog, New Relic, or custom metrics services</li> <li>Performance optimization: Add caching, rate limiting, or data aggregation layers</li> <li>Custom business logic: Filter, transform, or enrich data before display</li> <li>Gradual migration: Switch backends without changing the UI</li> <li>A/B testing: Test different implementations in production</li> </ul>"},{"location":"features/#benefits","title":"Benefits","text":"<ol> <li>No Vendor Lock-in: You control the data source</li> <li>Future-proof: Add support for new Celery features or storage backends</li> <li>Incremental Adoption: Start simple, customize as you scale</li> <li>Integration-friendly: Works with existing monitoring infrastructure</li> <li>Extensible: The same panel UI works with any backend implementation</li> </ol> <p>See the Configuration guide for detailed examples and the complete backend interface specification.</p>"},{"location":"features/#real-time-data","title":"Real-Time Data","text":"<p>All data displayed in Django Celery Panel is real-time and comes from:</p> <ol> <li>Celery Inspect API: For worker and queue information</li> <li>django-celery-results: For task history and results</li> <li>Celery Configuration: For settings and registered tasks</li> <li>Celery Beat Schedule: For periodic task information</li> </ol> <p>This means you always see the current state of your Celery infrastructure, not cached or stale data.</p> <p>With the swappable backend architecture, you can customize these data sources to fit your infrastructure's needs.</p>"},{"location":"features/#use-cases_1","title":"Use Cases","text":"<p>Django Celery Panel is perfect for:</p>"},{"location":"features/#development","title":"Development","text":"<ul> <li>Debugging Tasks: See exactly what's happening with your tasks</li> <li>Testing Queues: Verify tasks are routed correctly</li> <li>Worker Monitoring: Ensure workers are picking up tasks</li> </ul>"},{"location":"features/#production","title":"Production","text":"<ul> <li>Operational Visibility: Monitor your production Celery infrastructure</li> <li>Troubleshooting: Quickly identify failing tasks or offline workers</li> <li>Performance Monitoring: Track task execution times and throughput</li> <li>Configuration Verification: Confirm settings are correct in production</li> </ul>"},{"location":"features/#team-collaboration","title":"Team Collaboration","text":"<ul> <li>Shared View: Everyone can see the same monitoring data</li> <li>No Extra Tools: Uses your existing Django admin</li> <li>Access Control: Leverages Django's permission system</li> <li>Documentation: Live view of how Celery is configured</li> </ul>"},{"location":"features/#next-steps","title":"Next Steps","text":"<ul> <li>Installation Guide - Get started with Django Celery Panel</li> <li>Configuration - Customize the panel for your needs</li> <li>Development - Contribute or run tests locally</li> </ul>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Django 4.2+</li> <li>Celery 5.0+</li> <li>A running Celery broker (Redis, RabbitMQ, etc.)</li> <li>At least one Celery worker (for monitoring functionality)</li> </ul>"},{"location":"installation/#1-install-the-package","title":"1. Install the Package","text":"<pre><code>pip install dj-celery-panel\n</code></pre>"},{"location":"installation/#2-add-to-django-settings","title":"2. Add to Django Settings","text":"<p>Add <code>dj_celery_panel</code> to your <code>INSTALLED_APPS</code>:</p> <pre><code>INSTALLED_APPS = [\n'django.contrib.admin',\n'django.contrib.auth',\n'django.contrib.contenttypes',\n'django.contrib.sessions',\n'django.contrib.messages',\n'django.contrib.staticfiles',\n'dj_celery_panel',  # Add this\n# ... your other apps\n]\n</code></pre>"},{"location":"installation/#3-include-urls","title":"3. Include URLs","text":"<p>Add the Celery Panel URLs to your main <code>urls.py</code>:</p> <pre><code>from django.contrib import admin\nfrom django.urls import path, include\nurlpatterns = [\npath('admin/dj-celery-panel/', include('dj_celery_panel.urls')),\npath('admin/', admin.site.urls),\n]\n</code></pre>"},{"location":"installation/#4-configure-celery","title":"4. Configure Celery","text":"<p>Ensure you have Celery properly configured in your Django settings:</p> <pre><code># settings.py\nCELERY_BROKER_URL = 'redis://localhost:6379/0'  # Your broker URL\nCELERY_RESULT_BACKEND = 'django-db'  # or your preferred backend\n</code></pre>"},{"location":"installation/#5-run-migrations","title":"5. Run Migrations","text":"<pre><code>python manage.py migrate\n</code></pre>"},{"location":"installation/#6-start-celery-worker","title":"6. Start Celery Worker","text":"<p>The panel requires at least one running Celery worker to display worker and queue information:</p> <pre><code>celery -A your_project worker --loglevel=info\n</code></pre>"},{"location":"installation/#7-access-the-panel","title":"7. Access the Panel","text":"<ol> <li> <p>Start your Django development server:    <pre><code>python manage.py runserver\n</code></pre></p> </li> <li> <p>Navigate to <code>http://127.0.0.1:8000/admin/</code></p> </li> <li> <p>Look for the \"DJ_CELERY_PANEL\" section</p> </li> <li> <p>Click to access workers, tasks, queues, and periodic tasks</p> </li> </ol> <p>That's it!</p>"}]}